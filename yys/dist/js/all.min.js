!function(i){function e(e){e&&i.extend(this,e),this.container=this.container||i(document.body),this.gallery=this._layout.clone(),this.images=this.images||[],this.imageNum=this.images.length,this.imageIndex=this.imageIndex||0,this._init(),this.container.append(this.gallery)}var n='<div class="gallery-item"><img><div class="line-t"></div><div class="line-r"></div><div class="line-b"></div><div class="line-l"></div></div>';i.extend(e.prototype,{_layout:i('<div class="m-gallery"></div>'),_init:function(){for(var i=this,e=0;e<this.imageNum;e++)this.gallery.append(n);this.gallery.find("img").each(function(e){this.src=i.images[e]}),this.gallery.on("click","div",function(){var e=event.target.parentNode.className;return e.indexOf("next")>=0&&i.next(),e.indexOf("prev")>=0&&i.prev(),!1}),this.gallery.on("mousedown",function(){return!1}),this.items=this.gallery.find(".gallery-item"),this._onNav()},prev:function(){this.imageIndex=this._normalize(--this.imageIndex),this._onNav()},next:function(){this.imageIndex=this._normalize(++this.imageIndex),this._onNav()},_onNav:function(){var e=this.imageIndex,n=this;this.items.each(function(t){var a=i(this);e===t?a.addClass("active").removeClass("prev next out"):n._normalize(e-1)===t?a.addClass("prev").removeClass("active next out"):n._normalize(e+1)===t?a.addClass("next").removeClass("prev active out"):a.addClass("out").removeClass("prev next active")})},_normalize:function(i){return(i+this.imageNum)%this.imageNum}}),window.Gallery=e}(jQuery);var gallery=new Gallery({container:$(".gallery-container"),images:["img/gallery-1.jpg","img/gallery-2.jpg","img/gallery-3.jpg","img/gallery-4.jpg","img/gallery-5.jpg"]});!function(){function i(){t.css({marginTop:n,position:"absolute"})}function e(){t.css({marginTop:0,position:"fixed"})}var n=55,t=$(".sand-t"),a=$(".sand-l"),s=$(".sand-r"),l=.02;i(),$(window).scroll(function(t){var r=window.scrollY;r<n?i():e(),a.css("margin-left",-r*l+"px"),s.css("margin-right",-r*l+"px")})}();