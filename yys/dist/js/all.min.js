!function(i){function e(e){e&&i.extend(this,e),this.container=this.container||i(document.body),this.gallery=this._layout.clone(),this.images=this.images||[],this.imageNum=this.images.length,this.imageIndex=this.imageIndex||0,this._init(),this.container.append(this.gallery)}var a='<div class="gallery-item"><img><div class="line-t"></div><div class="line-r"></div><div class="line-b"></div><div class="line-l"></div></div>';i.extend(e.prototype,{_layout:i('<div class="m-gallery"></div>'),_init:function(){for(var i=this,e=0;e<this.imageNum;e++)this.gallery.append(a);this.gallery.find("img").each(function(e){this.src=i.images[e]}),this.gallery.on("click","img",function(e){var a=e.target.parentNode.className;return!!a&&(a.indexOf("next")>=0&&i.next(),a.indexOf("prev")>=0&&i.prev(),!1)}),this.gallery.on("mousedown",function(){return!1}),this.items=this.gallery.find(".gallery-item"),this._onNav()},prev:function(){this.imageIndex=this._normalize(--this.imageIndex),this._onNav()},next:function(){this.imageIndex=this._normalize(++this.imageIndex),this._onNav()},_onNav:function(){var e=this.imageIndex,a=this;this.items.each(function(n){var t=i(this);e===n?t.addClass("active").removeClass("prev next out"):a._normalize(e-1)===n?t.addClass("prev").removeClass("active next out"):a._normalize(e+1)===n?t.addClass("next").removeClass("prev active out"):t.addClass("out").removeClass("prev next active")})},_normalize:function(i){return(i+this.imageNum)%this.imageNum}}),window.Gallery=e}(jQuery);var gallery=new Gallery({container:$(".gallery-container"),images:["img/gallery-1.jpg","img/gallery-2.jpg","img/gallery-3.jpg","img/gallery-4.jpg","img/gallery-5.jpg"]});window.onload=function(){$(".loading").css("display","none"),$(".show").css({opacity:1,transform:"translate(0,0) scale(1)"})},function(){function i(){t.css({marginTop:a,position:"absolute"})}function e(){t.css({marginTop:0,position:"fixed"})}var a=55,n=300,t=$(".sand-t"),s=$(".sand-l"),l=$(".sand-r"),r=.02,o=$(".move-delay"),g=1/3;i(),$(window).scroll(function(t){var m=window.pageYOffset;m<a?i():e(),m>n&&$(".show-later").css({opacity:1,transform:"translate(0,0) scale(1)"}),s.css("margin-left",-m*r+"px"),l.css("margin-right",-m*r+"px"),o.css("margin-top",-m*g+"px")})}();